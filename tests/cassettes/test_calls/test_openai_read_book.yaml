interactions:
- request:
    body: '{"messages": [{"role": "system", "content": [{"type": "text", "text": "You
      are a helpful assistant that can read books."}]}, {"role": "user", "content":
      [{"type": "text", "text": "Hello, read book ''the great gatsby''"}]}], "model":
      "gpt-4o", "functions": [{"name": "list_books", "description": null, "parameters":
      {"properties": {}, "title": "Input for `list_books`", "type": "object"}}, {"name":
      "read_book", "description": null, "parameters": {"properties": {"book_name":
      {"title": "Book Name", "type": "string"}}, "required": ["book_name"], "title":
      "Input for `read_book`", "type": "object"}}]}'
    headers:
      content-type:
      - application/json
      host:
      - api.openai.com
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jJJPT+MwEMXv+RTWnJtV+geS7Y0LEuLA7g12hSLXnqQG22NsRwJV/e4r
        u6VJgZW4+DBv3s9vxt4VjIGSsGYgtjwK43R59VS/ru46fb/8/as2lb55+3P3cmuv6eGBVjBLDto8
        oYjvrh+CjNMYFdmDLDzyiIk6r5cXy3lz+bPKgiGJOtl6F8sVlYtqsSqrpqwuj8YtKYEB1uxvwRhj
        u3ymiFbiK6xZxuSKwRB4j7A+NTEGnnSqAA9BhchthNkoCrIRbUptB60nQjdYkcK3gmt9BmQMLDcZ
        qVWI7YboOUyYjAH3/WDQxhQadns4afvJDR67IXB9vLr40ACaeudpEz5Eg05ZFbatRx7IJv550ty2
        Lxh7zMsbzvYBzpNxsY30jDaR6/rAhfG1RnE+P4qRItdjvWlmX9BaiZErHSa7AsHFFuXoHF+KD1LR
        RCgmw38O8xX7sABl++/gR0EIdBFl6zxKJc4HHts8pr/8v7bTjnNgCG8homk7ZXv0zqv8naBzrVw0
        G8GxbhZQ7It/AAAA//8DAOUK/2FXAwAA
    headers:
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"role": "system", "content": [{"type": "text", "text": "You
      are a helpful assistant that can read books."}]}, {"role": "user", "content":
      [{"type": "text", "text": "Hello, read book ''the great gatsby''"}]}, {"role":
      "assistant", "content": [], "function_call": {"name": "list_books", "arguments":
      "{}"}}, {"role": "function", "content": [{"type": "text", "text": "The Great
      Gatsby\nTo Kill a Mockingbird\n1984"}], "name": "list_books"}], "model": "gpt-4o",
      "functions": [{"name": "list_books", "description": null, "parameters": {"properties":
      {}, "title": "Input for `list_books`", "type": "object"}}, {"name": "read_book",
      "description": null, "parameters": {"properties": {"book_name": {"title": "Book
      Name", "type": "string"}}, "required": ["book_name"], "title": "Input for `read_book`",
      "type": "object"}}]}'
    headers:
      content-type:
      - application/json
      host:
      - api.openai.com
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xSTWvjMBC9+1eIOceL48Zu6lthl8L20F0oLOymGFke22pkjZBktiHkvy9ymtjp
        B+xFh3kfvHmjfcQYyBoKBqLjXvRGxbfP1y9Z+3C/Wre3Q/aT/u6qX79/PH7dJt+/ESyCgqpnFP6k
        +iKoNwq9JH2EhUXuMbgur6+yq+U6v1mOQE81qiBrjY9XFKdJuoqTdZzkr8KOpEAHBfsTMcbYfnxD
        RF3jCxQsWZwmPTrHW4TiTGIMLKkwAe6cdJ5rD4sJFKQ96pBaD0rNgGbQIoQvBVfqwpAx0LwfLS3y
        uqyItjNLxoDbduhR+5AZ9hsIjDJoNlBs4LFDdhfKYHfcu2q3gQOc1YdZBIvN4Lh6zRa9IYCi1liq
        3Jvs0EgtXVda5I50SHC5ykg7RIw9je0OF4WBsdQbX3raog7Oy2R9NIbpnjP0BHryXM3mab74wK+s
        0XOp3KxOEFx0WE/S6Zh8qCXNgGi2/vs0H3kfK5C6/R/7CRACjce6NBZrKS43nmgWw3f/jHZueQwM
        buc89mUjdYvWWDn+OGhMmTVpkudptrqB6BD9AwAA//8DAI+ijpV6AwAA
    headers:
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"role": "system", "content": [{"type": "text", "text": "You
      are a helpful assistant that can read books."}]}, {"role": "user", "content":
      [{"type": "text", "text": "Hello, read book ''the great gatsby''"}]}, {"role":
      "assistant", "content": [], "function_call": {"name": "list_books", "arguments":
      "{}"}}, {"role": "function", "content": [{"type": "text", "text": "The Great
      Gatsby\nTo Kill a Mockingbird\n1984"}], "name": "list_books"}, {"role": "assistant",
      "content": [], "function_call": {"name": "read_book", "arguments": "{\"book_name\":
      \"The Great Gatsby\"}"}}, {"role": "function", "content": [{"type": "text",
      "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua."}], "name": "read_book"}],
      "model": "gpt-4o", "functions": [{"name": "list_books", "description": null,
      "parameters": {"properties": {}, "title": "Input for `list_books`", "type":
      "object"}}, {"name": "read_book", "description": null, "parameters": {"properties":
      {"book_name": {"title": "Book Name", "type": "string"}}, "required": ["book_name"],
      "title": "Input for `read_book`", "type": "object"}}]}'
    headers:
      content-type:
      - application/json
      host:
      - api.openai.com
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFPLbtswELzrK7a89GIHtvyMb0VROLkEBVoEaJtCoKiVxJjiEuQqjhv4
        3wPKjuU0KdALDzs7w51Z8ikBELoQKxCqlqwaZ4af7heP8z9XV5/bfG3bLzf2281t/TO9ncofy40Y
        RAbl96j4hXWhqHEGWZM9wMqjZIyq48VkNhkv55dpBzRUoIm0yvFwSsN0lE6Ho+VwND8Sa9IKg1jB
        rwQA4Kk744i2wEexgtHgpdJgCLJCsTo1AQhPJlaEDEEHlpbFoAcVWUbbTX3NEBCbANdQywcEtIpa
        y+ixAGkBvScP21obBPY7bStgAo/sNT4g3InvNcI6moS15JDvLu4EfDUoA4JBhgZhY2kLugSu0ePH
        ANLuuI5CwaHSpVawoxa21JoCjN5gvKDjkIdCB9WGADKnlqMC5ESbD+dePJZtkDFK2xpzrO9P4Riq
        nKc8HPFTvdRWhzrzKAPZGERgcqJD9wnA724J7atchfPUOM6YNmij4Hg2O+iJfu09OlkcQSaW5ox1
        eAF/62UFstQmnK1RKKlqLHpqv3PZFprOgOTM9dtp3tM+ONe2+h/5HlAKHWOROY+FVq8d920e46/4
        V9sp5W5gEXaBsclKbSv0zuvDwyxdNivT0XyezqaXItknzwAAAP//AwAXNVHeoQMAAA==
    headers:
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
    status:
      code: 200
      message: OK
version: 1
